function t(t){return t.split("-")[0]}function n(t){return t.split("-")[1]}function e(n){return["top","bottom"].includes(t(n))?"x":"y"}function o(t){return"y"===t?"height":"width"}function r(r,i,l){let{reference:a,floating:c}=r;const s=a.x+a.width/2-c.width/2,u=a.y+a.height/2-c.height/2,f=e(i),d=o(f),m=a[d]/2-c[d]/2,y="x"===f;let g;switch(t(i)){case"top":g={x:s,y:a.y-c.height};break;case"bottom":g={x:s,y:a.y+a.height};break;case"right":g={x:a.x+a.width,y:u};break;case"left":g={x:a.x-c.width,y:u};break;default:g={x:a.x,y:a.y}}switch(n(i)){case"start":g[f]-=m*(l&&y?-1:1);break;case"end":g[f]+=m*(l&&y?-1:1)}return g}function i(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function a(t,n){var e;void 0===n&&(n={});const{x:o,y:r,platform:a,rects:c,elements:s,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:y=!1,padding:g=0}=n,p=i(g),x=s[y?"floating"===m?"reference":"floating":m],h=l(await a.getClippingRect({element:null==(e=await(null==a.isElement?void 0:a.isElement(x)))||e?x:x.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:f,rootBoundary:d,strategy:u})),w=l(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===m?{...c.floating,x:o,y:r}:c.reference,offsetParent:await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),strategy:u}):c[m]);return{top:h.top-w.top+p.top,bottom:w.bottom-h.bottom+p.bottom,left:h.left-w.left+p.left,right:w.right-h.right+p.right}}const c=Math.min,s=Math.max;function u(t,n,e){return s(t,c(n,e))}const f=t=>({name:"arrow",options:t,async fn(r){const{element:l,padding:a=0}=null!=t?t:{},{x:c,y:s,placement:f,rects:d,platform:m}=r;if(null==l)return{};const y=i(a),g={x:c,y:s},p=e(f),x=n(f),h=o(p),w=await m.getDimensions(l),v="y"===p?"top":"left",b="y"===p?"bottom":"right",A=d.reference[h]+d.reference[p]-g[p]-d.floating[h],R=g[p]-d.reference[p],P=await(null==m.getOffsetParent?void 0:m.getOffsetParent(l));let B=P?"y"===p?P.clientHeight||0:P.clientWidth||0:0;0===B&&(B=d.floating[h]);const T=y[v],k=B-w[h]-y[b],z=B/2-w[h]/2+(A/2-R/2),D=u(T,z,k);return{[p]:g[p]-(("start"===x?y[v]:y[b])>0&&z!==D&&d.reference[h]<=d.floating[h]?z<T?T-z:k-z:0),data:{[p]:D,centerOffset:z-D}}}}),d={left:"right",right:"left",bottom:"top",top:"bottom"};function m(t){return t.replace(/left|right|bottom|top/g,(t=>d[t]))}const y={start:"end",end:"start"},g=["top","right","bottom","left"].reduce(((t,n)=>t.concat(n,n+"-start",n+"-end")),[]);const p=function(r){return void 0===r&&(r={}),{name:"autoPlacement",options:r,async fn(i){var l,c,s,u,f;const{x:d,y:p,rects:x,middlewareData:h,placement:w,platform:v,elements:b}=i,{alignment:A=null,allowedPlacements:R=g,autoAlignment:P=!0,...B}=r,T=function(e,o,r){return(e?[...r.filter((t=>n(t)===e)),...r.filter((t=>n(t)!==e))]:r.filter((n=>t(n)===n))).filter((t=>!e||n(t)===e||!!o&&function(t){return t.replace(/start|end/g,(t=>y[t]))}(t)!==t))}(A,P,R),k=await a(i,B),z=null!=(l=null==(c=h.autoPlacement)?void 0:c.index)?l:0,D=T[z];if(null==D)return{};const{main:L,cross:M}=function(t,r,i){void 0===i&&(i=!1);const l=n(t),a=e(t),c=o(a);let s="x"===a?l===(i?"end":"start")?"right":"left":"start"===l?"bottom":"top";return r.reference[c]>r.floating[c]&&(s=m(s)),{main:s,cross:m(s)}}(D,x,await(null==v.isRTL?void 0:v.isRTL(b.floating)));if(w!==D)return{x:d,y:p,reset:{placement:T[0]}};const C=[k[t(D)],k[L],k[M]],O=[...null!=(s=null==(u=h.autoPlacement)?void 0:u.overflows)?s:[],{placement:D,overflows:C}],E=T[z+1];if(E)return{data:{index:z+1,overflows:O},reset:{placement:E}};const F=O.slice().sort(((t,n)=>t.overflows[0]-n.overflows[0])),S=null==(f=F.find((t=>{let{overflows:n}=t;return n.every((t=>t<=0))})))?void 0:f.placement,j=null!=S?S:F[0].placement;return j!==w?{data:{index:z+1,overflows:O},reset:{placement:j}}:{}}}},x=function(o){return void 0===o&&(o=0),{name:"offset",options:o,async fn(r){const{x:i,y:l}=r,a=await async function(o,r){const{placement:i,platform:l,elements:a}=o,c=await(null==l.isRTL?void 0:l.isRTL(a.floating)),s=t(i),u=n(i),f="x"===e(i),d=["left","top"].includes(s)?-1:1,m=c&&f?-1:1,y="function"==typeof r?r(o):r;let{mainAxis:g,crossAxis:p,alignmentAxis:x}="number"==typeof y?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return u&&"number"==typeof x&&(p="end"===u?-1*x:x),f?{x:p*m,y:g*d}:{x:g*d,y:p*m}}(r,o);return{x:i+a.x,y:l+a.y,data:a}}}},h=function(n){return void 0===n&&(n={}),{name:"shift",options:n,async fn(o){const{x:r,y:i,placement:l}=o,{mainAxis:c=!0,crossAxis:s=!1,limiter:f={fn:t=>{let{x:n,y:e}=t;return{x:n,y:e}}},...d}=n,m={x:r,y:i},y=await a(o,d),g=e(t(l)),p="x"===g?"y":"x";let x=m[g],h=m[p];c&&(x=u(x+y["y"===g?"top":"left"],x,x-y["y"===g?"bottom":"right"])),s&&(h=u(h+y["y"===p?"top":"left"],h,h-y["y"===p?"bottom":"right"]));const w=f.fn({...o,[g]:x,[p]:h});return{...w,data:{x:w.x-r,y:w.y-i}}}}},w=function(n){return void 0===n&&(n={}),{name:"inline",options:n,async fn(o){var r;const{placement:a,elements:u,rects:f,platform:d,strategy:m}=o,{padding:y=2,x:g,y:p}=n,x=l(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f.reference,offsetParent:await(null==d.getOffsetParent?void 0:d.getOffsetParent(u.floating)),strategy:m}):f.reference),h=null!=(r=await(null==d.getClientRects?void 0:d.getClientRects(u.reference)))?r:[],w=i(y),v=await d.getElementRects({reference:{getBoundingClientRect:function(){var n;if(2===h.length&&h[0].left>h[1].right&&null!=g&&null!=p)return null!=(n=h.find((t=>g>t.left-w.left&&g<t.right+w.right&&p>t.top-w.top&&p<t.bottom+w.bottom)))?n:x;if(h.length>=2){if("x"===e(a)){const n=h[0],e=h[h.length-1],o="top"===t(a),r=n.top,i=e.bottom,l=o?n.left:e.left,c=o?n.right:e.right;return{top:r,bottom:i,left:l,right:c,width:c-l,height:i-r,x:l,y:r}}const n="left"===t(a),o=s(...h.map((t=>t.right))),r=c(...h.map((t=>t.left))),i=h.filter((t=>n?t.left===r:t.right===o)),l=i[0].top,u=i[i.length-1].bottom;return{top:l,bottom:u,left:r,right:o,width:o-r,height:u-l,x:r,y:l}}return x}},floating:u.floating,strategy:m});return f.reference.x!==v.reference.x||f.reference.y!==v.reference.y||f.reference.width!==v.reference.width||f.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};function v(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function b(t){if(null==t)return window;if(!v(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function A(t){return b(t).getComputedStyle(t)}function R(t){return v(t)?"":t?(t.nodeName||"").toLowerCase():""}function P(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function B(t){return t instanceof b(t).HTMLElement}function T(t){return t instanceof b(t).Element}function k(t){return"undefined"!=typeof ShadowRoot&&(t instanceof b(t).ShadowRoot||t instanceof ShadowRoot)}function z(t){const{overflow:n,overflowX:e,overflowY:o,display:r}=A(t);return/auto|scroll|overlay|hidden/.test(n+o+e)&&!["inline","contents"].includes(r)}function D(t){return["table","td","th"].includes(R(t))}function L(t){const n=/firefox/i.test(P()),e=A(t),o=e.backdropFilter||e.WebkitBackdropFilter;return"none"!==e.transform||"none"!==e.perspective||!!o&&"none"!==o||n&&"filter"===e.willChange||n&&!!e.filter&&"none"!==e.filter||["transform","perspective"].some((t=>e.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const n=e.contain;return null!=n&&n.includes(t)}))}function M(){return!/^((?!chrome|android).)*safari/i.test(P())}function C(t){return["html","body","#document"].includes(R(t))}const O=Math.min,E=Math.max,F=Math.round;function S(t,n,e){var o,r,i,l;void 0===n&&(n=!1),void 0===e&&(e=!1);const a=t.getBoundingClientRect();let c=1,s=1;n&&B(t)&&(c=t.offsetWidth>0&&F(a.width)/t.offsetWidth||1,s=t.offsetHeight>0&&F(a.height)/t.offsetHeight||1);const u=T(t)?b(t):window,f=!M()&&e,d=(a.left+(f&&null!=(o=null==(r=u.visualViewport)?void 0:r.offsetLeft)?o:0))/c,m=(a.top+(f&&null!=(i=null==(l=u.visualViewport)?void 0:l.offsetTop)?i:0))/s,y=a.width/c,g=a.height/s;return{width:y,height:g,top:m,right:d+y,bottom:m+g,left:d,x:d,y:m}}function j(t){return(n=t,(n instanceof b(n).Node?t.ownerDocument:t.document)||window.document).documentElement;var n}function q(t){return T(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function V(t){return S(j(t)).left+q(t).scrollLeft}function X(t,n,e){const o=B(n),r=j(n),i=S(t,o&&function(t){const n=S(t);return F(n.width)!==t.offsetWidth||F(n.height)!==t.offsetHeight}(n),"fixed"===e);let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(o||!o&&"fixed"!==e)if(("body"!==R(n)||z(r))&&(l=q(n)),B(n)){const t=S(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}else r&&(a.x=V(r));return{x:i.left+l.scrollLeft-a.x,y:i.top+l.scrollTop-a.y,width:i.width,height:i.height}}function Y(t){if("html"===R(t))return t;const n=t.assignedSlot||t.parentNode||(k(t)?t.host:null)||j(t);return k(n)?n.host:n}function G(t){return B(t)&&"fixed"!==A(t).position?t.offsetParent:null}function H(t){const n=b(t);let e=G(t);for(;e&&D(e)&&"static"===A(e).position;)e=G(e);return e&&("html"===R(e)||"body"===R(e)&&"static"===A(e).position&&!L(e))?n:e||function(t){let n=Y(t);for(;B(n)&&!C(n);){if(L(n))return n;n=Y(n)}return null}(t)||n}function I(t){if(B(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=S(t);return{width:n.width,height:n.height}}function J(t){const n=Y(t);return C(n)?t.ownerDocument.body:B(n)&&z(n)?n:J(n)}function K(t,n){var e;void 0===n&&(n=[]);const o=J(t),r=o===(null==(e=t.ownerDocument)?void 0:e.body),i=b(o),l=r?[i].concat(i.visualViewport||[],z(o)?o:[]):o,a=n.concat(l);return r?a:a.concat(K(l))}function N(t,n,e){return"viewport"===n?l(function(t,n){const e=b(t),o=j(t),r=e.visualViewport;let i=o.clientWidth,l=o.clientHeight,a=0,c=0;if(r){i=r.width,l=r.height;const t=M();(t||!t&&"fixed"===n)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:l,x:a,y:c}}(t,e)):T(n)?function(t,n){const e=S(t,!1,"fixed"===n),o=e.top+t.clientTop,r=e.left+t.clientLeft;return{top:o,left:r,x:r,y:o,right:r+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,e):l(function(t){var n;const e=j(t),o=q(t),r=null==(n=t.ownerDocument)?void 0:n.body,i=E(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=E(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let a=-o.scrollLeft+V(t);const c=-o.scrollTop;return"rtl"===A(r||e).direction&&(a+=E(e.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:a,y:c}}(j(t)))}const Q={getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:o,strategy:r}=t;const i=[..."clippingAncestors"===e?function(t){let n=K(t).filter((t=>T(t)&&"body"!==R(t))),e=t,o=null;for(;T(e)&&!C(e);){const t=A(e);"static"===t.position&&o&&["absolute","fixed"].includes(o.position)&&!L(e)?n=n.filter((t=>t!==e)):o=t,e=Y(e)}return n}(n):[].concat(e),o],l=i.reduce(((t,e)=>{const o=N(n,e,r);return t.top=E(o.top,t.top),t.right=O(o.right,t.right),t.bottom=O(o.bottom,t.bottom),t.left=E(o.left,t.left),t}),N(n,i[0],r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:o}=t;const r=B(e),i=j(e);if(e===i)return n;let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((r||!r&&"fixed"!==o)&&(("body"!==R(e)||z(i))&&(l=q(e)),B(e))){const t=S(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}return{...n,x:n.x-l.scrollLeft+a.x,y:n.y-l.scrollTop+a.y}},isElement:T,getDimensions:I,getOffsetParent:H,getDocumentElement:j,getElementRects:t=>{let{reference:n,floating:e,strategy:o}=t;return{reference:X(n,H(e),o),floating:{...I(e),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===A(t).direction};function U(t,n,e,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=!0,animationFrame:a=!1}=o,c=r&&!a,s=c||i?[...T(t)?K(t):t.contextElement?K(t.contextElement):[],...K(n)]:[];s.forEach((t=>{c&&t.addEventListener("scroll",e,{passive:!0}),i&&t.addEventListener("resize",e)}));let u,f=null;if(l){let o=!0;f=new ResizeObserver((()=>{o||e(),o=!1})),T(t)&&!a&&f.observe(t),T(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(n)}let d=a?S(t):null;return a&&function n(){const o=S(t);!d||o.x===d.x&&o.y===d.y&&o.width===d.width&&o.height===d.height||e(),d=o,u=requestAnimationFrame(n)}(),e(),()=>{var t;s.forEach((t=>{c&&t.removeEventListener("scroll",e),i&&t.removeEventListener("resize",e)})),null==(t=f)||t.disconnect(),f=null,a&&cancelAnimationFrame(u)}}const W=(t,n,e)=>(async(t,n,e)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:a}=e,c=l.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(n));let u=await a.getElementRects({reference:t,floating:n,strategy:i}),{x:f,y:d}=r(u,o,s),m=o,y={},g=0;for(let e=0;e<c.length;e++){const{name:l,fn:p}=c[e],{x,y:h,data:w,reset:v}=await p({x:f,y:d,initialPlacement:o,placement:m,strategy:i,middlewareData:y,rects:u,platform:a,elements:{reference:t,floating:n}});f=null!=x?x:f,d=null!=h?h:d,y={...y,[l]:{...y[l],...w}},v&&g<=50&&(g++,"object"==typeof v&&(v.placement&&(m=v.placement),v.rects&&(u=!0===v.rects?await a.getElementRects({reference:t,floating:n,strategy:i}):v.rects),({x:f,y:d}=r(u,m,s))),e=-1)}return{x:f,y:d,placement:m,strategy:i,middlewareData:y}})(t,n,{platform:Q,...e});export{p as a,U as b,W as c,f as d,w as i,x as o,h as s}