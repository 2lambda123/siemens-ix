<!--
SPDX-FileCopyrightText: 2023 Siemens AG

SPDX-License-Identifier: MIT
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Modal example</title>
  </head>
  <body class="theme-brand-dark">
    <!-- Preview code -->
    <ix-button id="show-modal">Show modal</ix-button>
    <template id="modal-example-template">
      <ix-modal-header>Message headline</ix-modal-header>
      <ix-modal-content>Message text lorem ipsum</ix-modal-content>
      <ix-modal-footer>
        <ix-button outline>Cancel</ix-button>
        <ix-button>OK</ix-button>
      </ix-modal-footer>
    </template>
    <script type="module">
      import { showModal, closeModal, dismissModal } from '@siemens/ix';

      (async function () {
        const template = document.getElementById('modal-example-template');
        const showModalButton = document.getElementById('show-modal');

        showModalButton.addEventListener('click', () => {
          const clone = template.content.cloneNode(true);
          const modal = document.createElement('ix-modal');

          const footer = clone.querySelector('ix-modal-footer');
          const [cancel, okay] = Array.from(
            footer.querySelectorAll('ix-button')
          );

          cancel.addEventListener('click', () => dismissModal(modal));
          okay.addEventListener('click', () => closeModal(modal, 'Okay'));

          modal.appendChild(clone);

          showModal({
            content: modal,
          });
        });
      })();
    </script>
    <!-- Preview code -->
    <script type="module" src="./init.js"></script>
  </body>
</html>
