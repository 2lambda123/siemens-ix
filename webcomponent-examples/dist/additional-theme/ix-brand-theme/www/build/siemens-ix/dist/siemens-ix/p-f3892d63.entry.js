import{r as t,h as i,H as s,g as o}from"./p-05c16b94.js";import{b as e,c as r,s as a,o as l,d as h,a as n}from"./p-7d23a27d.js";const p=class{constructor(i){t(this,i),this.onMouseEnterBind=this.showTooltip.bind(this),this.onMouseLeaveBind=this.hideTooltip.bind(this),this.tooltipCloseTimeInMS=50,this.for=void 0,this.interactive=!1,this.titleContent=void 0,this.titleIcon=void 0,this.visible=!1}get arrowElement(){return this.hostElement.shadowRoot.querySelector(".arrow")}destroyAutoUpdate(){this.disposeAutoUpdate&&this.disposeAutoUpdate()}showTooltip(t){clearTimeout(this.hideTooltipTimeout),this.visible=!0,this.computeTooltipPosition(t.target)}hideTooltip(){this.hideTooltipTimeout=setTimeout((()=>{this.visible=!1}),this.tooltipCloseTimeInMS),this.destroyAutoUpdate()}async computeTooltipPosition(t){this.disposeAutoUpdate=e(t,this.hostElement,(async()=>{const i=await r(t,this.hostElement,{strategy:"absolute",placement:"top",middleware:[a(),l(8),h({element:this.arrowElement}),n({alignment:"start",allowedPlacements:["top","bottom","right","left"]})]});if(i.middlewareData.arrow){const{x:t,y:s}=i.middlewareData.arrow;Object.assign(this.arrowElement.style,{left:null!=t?`${t}px`:"",top:null!=s?`${s}px`:""})}const{x:s,y:o}=i;Object.assign(this.hostElement.style,{left:null!==s?`${s}px`:"",top:null!==o?`${o}px`:""})}),{ancestorResize:!0,ancestorScroll:!0,elementResize:!0})}queryAnchorElements(){return Array.from(document.querySelectorAll(this.for))}registerTriggerListener(){this.queryAnchorElements().forEach((t=>{t.addEventListener("mouseenter",this.onMouseEnterBind),t.addEventListener("mouseleave",this.onMouseLeaveBind)}))}registerTooltipListener(){this.hostElement.addEventListener("mouseenter",(()=>{this.interactive&&clearTimeout(this.hideTooltipTimeout)})),this.hostElement.addEventListener("mouseleave",(()=>{this.hideTooltip()}))}componentDidLoad(){this.interactive&&(this.tooltipCloseTimeInMS=150),this.observer=new MutationObserver((()=>{this.registerTriggerListener()})),this.observer.observe(document.body,{attributes:!0,attributeFilter:["data-ix-tooltip"],childList:!0,subtree:!0}),this.registerTriggerListener(),this.registerTooltipListener()}disconnectedCallback(){this.observer.disconnect(),this.destroyAutoUpdate()}render(){var t;return i(s,{class:{visible:this.visible}},i("div",{class:"tooltip-title"},this.titleIcon?i("ix-icon",{size:"12",name:this.titleIcon}):null,null!==(t=i("ix-typography",{variant:"default-title"},this.titleContent,i("slot",{name:"title"})))&&void 0!==t?t:null),i("div",{class:{"tooltip-content":!0}},i("slot",null)),i("div",{class:"arrow"}))}get hostElement(){return o(this)}};p.style=':host{--tooltip-background:var(--theme-tootlip--background);--tooltip-border-radius:4px}:host{display:inline-block;position:absolute;left:0px;top:0px;max-width:18.25rem;opacity:0;visibility:collapse;overflow-wrap:break-word;border-radius:var(--tooltip-border-radius);background-color:var(--tooltip-background);padding:0.375rem 0.75rem 0.375rem 0.875rem;filter:drop-shadow(0px 12px 18px rgba(0, 0, 0, 0.6)) drop-shadow(0px 4px 8px rgba(0, 0, 0, 0.6)) drop-shadow(0px 0px 2px #000000)}:host .tooltip-title{display:flex;align-items:center}:host .tooltip-title ix-icon{margin-right:0.35rem}:host(.visible){opacity:1;visibility:visible}:host .arrow,:host .arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .arrow{visibility:hidden}:host .arrow::before{visibility:visible;content:"";transform:rotate(45deg);background-color:var(--theme-tootlip--background)}';export{p as ix_tooltip}